<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sentinel Nexus Systems | Agent Distribution Program</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

<style>
/* --- NO STYLE CHANGES --- */
:root{
  --bg:#0b0f14;
  --panel:#121923;
  --soft:#0f1622;
  --accent:#00ffd1;
  --muted:#a0a8b0;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:'Montserrat',sans-serif}
body{background:var(--bg);color:#e6ecf3;line-height:1.7}
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:url("logo/sns.png") center/240px no-repeat;
  opacity:.05;
  pointer-events:none;
  z-index:-1;
}
header{
  background:var(--panel);
  padding:2.5rem 1.5rem;
  text-align:center;
  border-bottom:1px solid var(--accent);
}
header img{width:110px;margin-bottom:1rem}
header h1{color:var(--accent);font-size:2.3rem}
header p{color:var(--muted)}
main{max-width:1200px;margin:3rem auto;padding:0 1.2rem}
section{margin-bottom:3.5rem}
h2{
  color:var(--accent);
  font-size:1.7rem;
  margin-bottom:1rem;
  display:flex;
  align-items:center;
  gap:10px;
  border-bottom:2px solid var(--accent);
  padding-bottom:.3rem;
}
.card{
  background:var(--panel);
  border-radius:18px;
  padding:2rem;
  border-left:4px solid var(--accent);
}
label{display:block;font-weight:600;margin:.8rem 0 .4rem}
input{
  width:100%;
  padding:.7rem;
  border-radius:8px;
  border:1px solid #2a3342;
  background:var(--soft);
  color:#e6ecf3;
}
button{
  margin-top:1.2rem;
  width:100%;
  padding:.9rem;
  background:var(--accent);
  color:#0b0f14;
  border:none;
  border-radius:12px;
  font-weight:700;
  cursor:pointer;
}
.agent-id{
  display:none;
  margin-top:1.5rem;
  background:var(--soft);
  border:1px dashed var(--accent);
  padding:1.2rem;
  white-space:pre-line;
  font-family:monospace;
  color:var(--accent);
}
.actions{
  display:none;
  margin-top:1rem;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:10px;
}
.whatsapp{
  display:none;
  margin-top:1.5rem;
  text-align:center;
}
.whatsapp a{
  background:#25D366;
  color:#0b0f14;
  padding:.9rem 1.5rem;
  border-radius:999px;
  font-weight:700;
  text-decoration:none;
}
footer{
  margin-top:4rem;
  padding:2rem 1rem;
  background:var(--panel);
  border-top:1px solid var(--accent);
  text-align:center;
  color:var(--muted);
  font-size:.9rem;
}
</style>
</head>

<body>

<header>
  <img src="logo/sns.png">
  <h1>Sentinel Nexus Systems</h1>
  <p>ðŸš€ Unified Systems & Licensing Platform</p>
</header>

<main>

<section>
<h2>ðŸªª Agent Registration</h2>
<div class="card">

<p>
Onboarding Fee: <strong>USD $1.00</strong><br>
Pay via <strong>PayNow</strong> or <strong>Bank / Mobile Banking</strong><br>
Send Proof of Payment via WhatsApp
</p>

<form id="agentForm">
<label>Full Name</label>
<input id="name" required>
<label>Payment Reference</label>
<input id="txnId" required>
<button type="submit">Generate Agent Receipt</button>
</form>

<div class="agent-id" id="agentIdBox"></div>

<div class="actions" id="actions">
<button onclick="copyDetails()">Copy</button>
<button onclick="downloadTXT()">TXT</button>
<button onclick="downloadQR()">QR</button>
</div>

<div class="whatsapp" id="whatsappBtn">
<a id="waLink" target="_blank">Send POP via WhatsApp</a>
</div>

</div>
</section>

</main>

<footer>
Â© 2026 Sentinel Nexus Systems
</footer>

<script>
/* --- FIXED & STABLE RECEIPT ENGINE --- */

const agentForm = document.getElementById("agentForm");
const nameInput = document.getElementById("name");
const txnInput = document.getElementById("txnId");
const agentIdBox = document.getElementById("agentIdBox");
const actions = document.getElementById("actions");
const whatsappBtn = document.getElementById("whatsappBtn");
const waLink = document.getElementById("waLink");

let FULL_NAME = "";
let TXN_ID = "";
let AGENT_ID = "";

function generateAgentID(){
  return "AG-" + Math.random().toString(36).substring(2,10).toUpperCase();
}

function receiptText(){
return `SENTINEL NEXUS SYSTEMS
AGENT ONBOARDING RECEIPT

Name: ${FULL_NAME}
Reference: ${TXN_ID}
Agent ID: ${AGENT_ID}

Status: Pending Verification`;
}

agentForm.addEventListener("submit", function(e){
  e.preventDefault();

  FULL_NAME = nameInput.value.trim();
  TXN_ID = txnInput.value.trim();
  AGENT_ID = generateAgentID();

  const receipt = receiptText();

  agentIdBox.textContent = receipt;
  agentIdBox.style.display = "block";
  actions.style.display = "grid";
  agentForm.style.display = "none";

  waLink.href =
    "https://wa.me/263787556929?text=" +
    encodeURIComponent(receipt);

  whatsappBtn.style.display = "block";

  /* AUTO-SEND TO WHATSAPP */
  window.open(waLink.href, "_blank");
});

function copyDetails(){
  navigator.clipboard.writeText(receiptText());
}

function downloadTXT(){
  const blob = new Blob([receiptText()], {type:"text/plain"});
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "Agent-Receipt.txt";
  a.click();
}

function downloadQR(){
  window.open(
    "https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=" +
    encodeURIComponent(receiptText()),
    "_blank"
  );
}
</script>

</body>
</html>
